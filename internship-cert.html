<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Internship Certificate Generator</title>
    <!-- Tailwind CSS CDN --><script src="https://cdn.tailwindcss.com"></script>
    <!-- Inter Font --><link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    <!-- jsPDF and html2canvas CDN for PDF generation --><script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
        }
        /* Custom styles for the certificate */
        .certificate-wrapper {
            /* This wrapper enforces the standard A4 Landscape aspect ratio (297mm/210mm ~ 1.414) */
            position: relative;
            width: 100%;
            padding-bottom: 70.7%; /* 210 / 297 * 100 */
            max-width: 1000px;
            margin: 0 auto;
        }
        .certificate-container {
            /* This container holds the actual content and fills the wrapper */
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #ffffff;
            box-shadow: 0 10px 25px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            border: 4px solid #1e40af; /* Dark blue main border */
            padding: 2rem 3rem; /* REDUCED TOP/BOTTOM PADDING */
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .certificate-inner-border {
            border: 2px dashed #93c5fd; /* Light blue dashed inner border */
            padding: 1rem 2rem; /* REDUCED INNER PADDING */
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }
        .text-handwriting {
            font-family: cursive; /* Placeholder for a fancy signature font */
        }
        @media (max-width: 640px) {
            .certificate-container {
                padding: 1rem;
            }
            .certificate-inner-border {
                padding: 1rem;
            }
        }
    </style>
</head>
<body class="p-4 md:p-8">

    <div class="max-w-7xl mx-auto">
        <h1 class="text-3xl font-extrabold text-gray-900 mb-6 border-b pb-2">Internship Certificate Generator</h1>

        <!-- Input Form --><div class="bg-white p-6 rounded-xl shadow-lg mb-8">
            <h2 class="text-xl font-semibold mb-4 text-indigo-700">Certificate Details</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <!-- Intern Details --><div>
                    <label for="internName" class="block text-sm font-medium text-gray-700">Intern's Full Name</label>
                    <input type="text" id="internName" value="Alex R. Johnson" oninput="updateCertificate()" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-2 border">
                </div>
                <div>
                    <label for="institution" class="block text-sm font-medium text-gray-700">Educational Institution</label>
                    <input type="text" id="institution" value="Delhi Technological University" oninput="updateCertificate()" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-2 border">
                </div>
                <div>
                    <label for="department" class="block text-sm font-medium text-gray-700">Department/Course</label>
                    <input type="text" id="department" value="B.Tech Computer Science" oninput="updateCertificate()" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-2 border">
                </div>
                <!-- Internship Details --><div>
                    <label for="internRole" class="block text-sm font-medium text-gray-700">Internship Role</label>
                    <input type="text" id="internRole" value="Full Stack Development" oninput="updateCertificate()" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-2 border">
                </div>
                <div class="md:col-span-2">
                    <label for="duration" class="block text-sm font-medium text-gray-700">Internship Duration (e.g., May 1, 2025 to Aug 1, 2025)</label>
                    <input type="text" id="duration" value="May 1, 2025 to August 1, 2025 (12 Weeks)" oninput="updateCertificate()" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-2 border">
                </div>
            </div>
            <!-- Responsibilities Summary --><div class="mt-4">
                <label for="responsibilities" class="block text-sm font-medium text-gray-700">Key Responsibilities / Achievements Summary</label>
                <textarea id="responsibilities" rows="2" oninput="updateCertificate()" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-2 border">Developed and deployed a secure user authentication system and contributed to API integration, showcasing strong analytical and teamwork skills.</textarea>
            </div>
            
            <div class="mt-6">
                <button onclick="generatePDF()" class="w-full md:w-auto px-6 py-3 bg-indigo-600 text-white font-bold rounded-lg shadow-md hover:bg-indigo-700 transition duration-150 transform hover:scale-105">
                    Download Certificate (PDF)
                </button>
            </div>
        </div>

        <!-- Certificate Preview Area --><div id="certificate-output" class="p-4 bg-gray-200 rounded-xl">
            <h2 class="text-2xl font-bold mb-4 text-center text-gray-800">Certificate Preview (A4 Landscape Standard)</h2>
            <!-- Wrapper to enforce the A4 Landscape aspect ratio (297x210) --><div class="certificate-wrapper shadow-xl">
                <div id="certificate" class="certificate-container">
                    <div class="certificate-inner-border">
                        
                        <!-- OFFICIAL LETTERHEAD HEADER -->
                        <div class="w-full flex justify-between items-center mb-4 border-b-2 border-indigo-100 pb-1"> 
                            <!-- Company Details (Left) -->
                            <div class="text-left text-xs text-gray-700 pr-4"> <!-- Added pr-4 for spacing -->
                                <p class="font-bold text-base text-indigo-900">CYBER ALLIANCE INDIA (Pvt. Ltd.)</p>
                                <p>123 Digital Hub, Nehru Place, New Delhi - 110019</p>
                                <p>Contact: +91 98765 43210 | Email: hr@cyberalliance.in</p>
                            </div>
                            <!-- Company Logo Placeholder (Right) -->
                            <img id="logoPlaceholder" 
                                src="https://placehold.co/900x300/1e293b/ffffff?text=Company+Logo" 
                                alt="Company Logo Placeholder" 
                                class="h-auto rounded-lg"
                                style="max-height: 60px; width: auto; object-fit: contain;" 
                            >
                        </div>

                        <!-- Main Title --><h1 class="text-4xl md:text-5xl font-extrabold text-indigo-800 tracking-wider uppercase mb-6 mt-2" style="font-family: serif;">
                            Certificate of Internship
                        </h1>
                        
                        <!-- Introduction --><p class="text-lg mb-4 text-gray-700">This certifies that</p> <!-- mb-2 to mb-4 -->

                        <!-- Intern Name --><h2 id="outputName" class="text-4xl md:text-5xl font-black text-indigo-900 border-b-4 border-indigo-500 pb-2 mb-8" style="font-family: Georgia, serif;"> <!-- mb-6 to mb-8 -->
                            ALEX R. JOHNSON
                        </h2>

                        <!-- Details Body --><p class="text-base leading-relaxed text-gray-700 mb-4 w-full max-w-2xl"> <!-- mb-3 to mb-4 -->
                            A student of 
                            <span id="outputDepartment" class="font-semibold text-gray-900 border-b border-gray-400 p-0.5">B.Tech Computer Science</span> 
                            from 
                            <span id="outputInstitution" class="font-semibold text-gray-900 border-b border-gray-400 p-0.5">Delhi Technological University</span>,
                            has successfully completed a remote internship with our organization in the capacity of 
                            <span id="outputRole" class="font-semibold text-gray-900 border-b border-gray-400 p-0.5">Full Stack Development</span>.
                        </p>
                        
                        <p class="text-base leading-relaxed text-gray-700 mb-8 w-full max-w-2xl"> <!-- mb-5 to mb-8 -->
                            The internship period was from 
                            <span id="outputDuration" class="font-semibold text-gray-900 border-b border-gray-400 p-0.5">May 1, 2025 to August 1, 2025 (12 Weeks)</span>.
                        </p>

                        <!-- Achievements/Responsibilities --><div class="w-full max-w-2xl bg-indigo-50 p-3 rounded-lg shadow-inner mb-auto">
                            <p class="font-bold text-sm text-indigo-800 mb-1">Key Responsibilities and Achievements:</p>
                            <p id="outputResponsibilities" class="text-sm italic text-gray-800 text-justify">
                                Developed and deployed a secure user authentication system and contributed to API integration, showcasing strong analytical and teamwork skills.
                            </p>
                        </div>


                        <!-- Signatures and Date/Verification --><div class="pt-8 w-full max-w-3xl flex justify-between items-end"> <!-- pt-6 to pt-8 -->
                            <!-- Verification/Seal --><div class="flex flex-col items-start space-y-2"> <!-- space-y-1 to space-y-2 -->
                                <p class="text-xs text-gray-500 font-medium">Date of Issue: <span id="outputDate" class="font-semibold text-gray-700">November 23, 2025</span></p>
                                <div class="w-20 h-20 border-2 border-gray-400 flex items-center justify-center text-xs text-gray-500 rounded-full bg-gray-50">
                                    Official Seal
                                </div>
                                <p class="text-xs text-gray-500 mt-1">Verification Code: <span class="font-semibold text-gray-700">CAI-I25-7890</span></p>
                            </div>

                            <!-- Signatures --><div class="flex space-x-10"> <!-- space-x-8 to space-x-10 -->
                                <div class="flex flex-col items-center">
                                    <p class="text-handwriting text-2xl font-semibold mb-0.5 text-gray-800">Jane D. Doe</p>
                                    <p class="text-sm text-gray-600 border-t border-gray-500 pt-0.5">Director of Human Resources</p>
                                </div>
                                <div class="flex flex-col items-center">
                                    <p class="text-handwriting text-2xl font-semibold mb-0.5 text-gray-800">John W. Smith</p>
                                    <p class="text-sm text-gray-600 border-t border-gray-500 pt-0.5">Chief Executive Officer</p>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
        
    </div>

    <script>
        // Use window.jsPDF from the UMD bundle
        const { jsPDF } = window.jspdf;

        // Function to format the date
        const formatDate = (date) => {
            const options = { year: 'numeric', month: 'long', day: 'numeric' };
            return date.toLocaleDateString('en-US', options);
        };

        // Function to update the certificate content based on inputs
        function updateCertificate() {
            const name = document.getElementById('internName').value.toUpperCase() || 'INTERN NAME';
            const role = document.getElementById('internRole').value || 'Internship Role';
            const duration = document.getElementById('duration').value || 'Duration';
            const institution = document.getElementById('institution').value || 'Educational Institution';
            const department = document.getElementById('department').value || 'Department/Course';
            const responsibilities = document.getElementById('responsibilities').value || 'No responsibilities summary provided.';
            
            const date = new Date();
            const formattedDate = formatDate(date);

            document.getElementById('outputName').textContent = name;
            document.getElementById('outputRole').textContent = role;
            document.getElementById('outputDuration').textContent = duration;
            document.getElementById('outputInstitution').textContent = institution;
            document.getElementById('outputDepartment').textContent = department;
            document.getElementById('outputResponsibilities').textContent = responsibilities;
            document.getElementById('outputDate').textContent = formattedDate;
        }

        // Initialize on load
        window.onload = function() {
            updateCertificate();
        };

        // Function to generate the PDF
        function generatePDF() {
            // Target the certificate container for capture
            const certificateElement = document.getElementById('certificate');
            
            // html2canvas automatically captures the full dimensions of the element
            html2canvas(certificateElement, {
                scale: 2, // Higher scale for better resolution in PDF
                useCORS: true, // Required for external images (like the placeholder logo)
                logging: false,
            }).then(canvas => {
                const imgData = canvas.toDataURL('image/png');
                
                // PDF generation is set to A4 Landscape (297mm x 210mm)
                const imgWidth = 297; 
                const pageHeight = 210; 
                const imgHeight = canvas.height * imgWidth / canvas.width;
                let heightLeft = imgHeight;

                // Initialize jsPDF with Landscape orientation
                const pdf = new jsPDF('l', 'mm', 'a4'); 

                // --- PDF METADATA ---
                pdf.setProperties({
                    title: 'Internship Certificate',
                    author: 'yudhvir singh godara', // Set Author
                    producer: 'cyber alliance india', // Set Producer
                    subject: `Certificate for ${document.getElementById('internName').value}`,
                    keywords: 'certificate, internship, development, training',
                });

                let position = 0;

                // Add image data to PDF
                pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);
                heightLeft -= pageHeight;

                // Handles multi-page scenario (unlikely for a certificate)
                while (heightLeft >= 0) {
                    position = heightLeft - imgHeight;
                    pdf.addPage();
                    pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);
                    heightLeft -= pageHeight;
                }

                pdf.save('Internship_Certificate.pdf');
            }).catch(error => {
                console.error("Error generating PDF:", error);
                // Using a custom UI element is recommended instead of alert()
                document.getElementById('certificate-output').insertAdjacentHTML('beforebegin', 
                    '<div id="error-message" class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4" role="alert">' +
                    '<strong class="font-bold">Error!</strong>' +
                    '<span class="block sm:inline"> Could not generate PDF. Check the console for details.</span>' +
                    '<span class="absolute top-0 bottom-0 right-0 px-4 py-3 cursor-pointer" onclick="document.getElementById(\'error-message\').remove()">&times;</span>' +
                    '</div>'
                );
            });
        }
    </script>

</body>
</html>